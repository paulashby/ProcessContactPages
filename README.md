# ProcessContactPages

[<img src="https://img.shields.io/badge/License-MIT-yellow.svg">](https://opensource.org/licenses/MIT)

## Table of Contents

[Description](#description)<br />[Installation](#installation)<br />[Usage](#usage)<br />[Contributing](#contributing)<br />[Tests](#tests)<br />[License](#license)<br />[Questions](#questions)<br />

## Description

Processwire contact module. Allows user to set up version controlled documents and forms for purposes of GDPR. Provides UI to manage form submissions.

## Installation

Firstly, download and install the latest version of [Processwire](https://processwire.com). Download the ProcessContactPages folder and place in your /site/modules directory. You'll also need do the same with the [PageMaker](https://github.com/paulashby/PageMaker) and [VersionControl](https://processwire.com/modules/version-control/) modules as these are required by ProcessContactPages.<br /><br />Log into your site as an admin and go the Modules page. Select the Site tab and click the Install button on the ProcessContactPages module entry.<br /><br />You can now configure the following:
- **Installation Root** - where on your system you want the module to create its page tree (this is where the module will store master documents such as forms and Privacy Policy).
- **Admin email** - the address you want to use to receive status updates and notifications.
- **Prefix for fields and templates** - useful to avoid naming collisions on files generated by the module.
- **Roles with view access to ProcessContactPages admin pages** - comma-separated list of role names or ids. Allows users with the given roles to make full use of the module.
- **Roles for customer accounts** - comma-separated list of role names or ids.
- **Terms and conditions link** - If provided, terms and conditions with be appended to bottom of welcome email.<br />


A Privacy Policy document is created when the module is installed and until this has been updated, regular reminders will be shown to ensure this important document is populated.

## Usage
Version controlled documents (such as Terms & Conditions) can be added as children of Contact Pages/Settings/Documents.<br />

Version controlled forms can be added to Contact Pages/Settings/Forms.<br />

Load the module in your php file<br />
```$contact = $this->modules->get("ProcessContactPages");```<br />

Retrieve HTML document markup using the name of the Processwire document page<br />
```$contact->renderDocument("my-document");```

Retrieve HTML form markup using the name of the Processwire form page<br />
```$contact->renderForm("my-form");```

Retrieve HTML markup for multiple forms:<br />
```$contact->renderForm($options);```<br />

Where the options array contains an associative array for each form, detailing the following:
- **title** - string: an optional title for the form<br />
- **form** - string: the name of the Processwire form page<br />
- **handler** - string: the path to a JavaScript form handler.

### Managing form submissions
Log into the back end of your site and go to the Contact admin page. Here you can view a list of contact form submissions and set their status as processed and ultimately resolved.

Registration applications are also listed here and can be marked as accepted or rejected. If accepted, the account is promoted to fully active status and the customer is sent a notification. If rejected, the user account is completely removed from the system and a notification sent to the applicant.

## Contributing

If you would like to make a contribution to the app, simply fork the repository and submit a Pull Request. If I like it, I may include it in the codebase.

## Tests

N/A

## License

Released under the [MIT](https://opensource.org/licenses/MIT) license.

## Questions

Feel free to [email me](mailto:paul@primitive.co?subject=ProcessContactPages%20query%20from%20GitHub) with any queries. If you'd like to see some of my other projects, my GitHub user name is [paulashby](https://github.com/paulashby).
